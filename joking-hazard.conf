worker_processes auto;

events {
    use epoll;
    multi_accept on;
}

http {
    access_log /dev/stdout;
    error_log /dev/stdout info;
    server {
        include joking-hazard.listen.conf;

        types{
            text/javascript   js;
            text/css          css;
            text/scss         scss;
            image/jpeg        jpg;
            image/png         png;
            image/webp        webp;
        }
        default_type text/html;

        gzip            on;
        gzip_min_length 1000;
        gzip_proxied    expired no-cache no-store private auth;
        gzip_types      text/plain js css scss jpg png webp;

        location / {
            root /usr/share/nginx/html/public/static;
            index index.html;
            try_files $uri $uri/ /;
        }
    }
}
